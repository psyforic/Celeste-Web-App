<form class="form-horizontal" autocomplete="off" #editUserModal="ngForm" (ngSubmit)="save()">
    <abp-modal-header [title]="'EditUser' | localize" (onCloseClick)="bsModalRef.hide()"></abp-modal-header>
    <div class="modal-body">
        <div class="loading-spinner" *ngIf="isLoading">
            <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
        </div>
        <tabset [justified]="'center'">
            <tab [heading]="'UserDetails' | localize" class="pt-3 px-2">
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="name">
                        {{ "Name" | localize }}
                    </label>
                    <div class="col-md-9">
                        <input type="text" class="form-control" name="name" id="name" required maxlength="32" [(ngModel)]="user.name" #nameModel="ngModel" #nameEl />
                        <abp-validation-summary [control]="nameModel" [controlEl]="nameEl"></abp-validation-summary>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="surname">
                        {{ "Surname" | localize }}
                    </label>
                    <div class="col-md-9 styled-input">
                        <input type="text" class="form-control" name="surname" id="surname" required maxlength="32" [(ngModel)]="user.surname" #surnameModel="ngModel" #surnameEl />
                        <abp-validation-summary [control]="surnameModel" [controlEl]="surnameEl">
                        </abp-validation-summary>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="userName">
                        {{ "UserName" | localize }}
                    </label>
                    <div class="col-md-9 styled-input">
                        <input type="text" class="form-control" name="userName" id="userName" required minlength="2" maxlength="32" [(ngModel)]="user.userName" #userNameModel="ngModel" #userNameEl />
                        <abp-validation-summary [control]="userNameModel" [controlEl]="userNameEl">
                        </abp-validation-summary>
                    </div>
                </div>
                <div class="loading-spinner" *ngIf="isLoading">
                    <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
                </div>
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="emailAddress">
                        {{ "EmailAddress" | localize }}
                    </label>
                    <div class="col-md-9 styled-input">
                        <input type="email" class="form-control" name="emailAddress" id="emailAddress" required maxlength="256" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{1,})+$" [(ngModel)]="user.emailAddress" #emailAddressModel="ngModel" #emailAddressEl />
                        <abp-validation-summary [control]="emailAddressModel" [controlEl]="emailAddressEl">
                        </abp-validation-summary>
                    </div>
                </div>
                <div class="form-group row mb-0">
                    <label class="col-md-3 col-form-label">
                        {{ "IsActive" | localize }}
                    </label>
                    <div class="col-md-9">
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" name="isActive" id="isActive" [(ngModel)]="user.isActive" />
                            <label class="custom-control-label mt-2" for="isActive"></label>
                        </div>
                    </div>
                </div>
            </tab>
            <tab [heading]="'Address' | localize" class="pt-3 px-2">
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="address">
                        {{ "Street Address" | localize }}
                    </label>
                    <div class="col-md-9">
                        <input type="text" class="form-control" name="address" id="address" required maxlength="32" [(ngModel)]="user.address" #addressModel="ngModel" #addressEL />
                        <abp-validation-summary [control]="addressModel" [controlEl]="addressEL">
                        </abp-validation-summary>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="suburb">
                        {{ "Suburb" | localize }}
                    </label>
                    <div class="col-md-9">
                        <input type="text" class="form-control" name="suburb" id="suburb" required maxlength="32" [(ngModel)]="user.suburb" #suburbModel="ngModel" #suburbEl />
                        <abp-validation-summary [control]="suburbModel" [controlEl]="suburbEl"></abp-validation-summary>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="city">
                        {{ "City" | localize }}
                    </label>
                    <div class="col-md-9">
                        <input type="text" class="form-control" name="city" id="city" required maxlength="32" [(ngModel)]="user.city" #cityModel="ngModel" #cityEl />
                        <abp-validation-summary [control]="cityModel" [controlEl]="cityEl"></abp-validation-summary>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="postalCode">
                        {{ "Postal Code" | localize }}
                    </label>
                    <div class="col-md-9">
                        <input type="number" class="form-control" name="postalCode" id="postalCode" required maxlength="32" [(ngModel)]="user.postalCode" #postalCodeModel="ngModel" #postalCodeEl />
                        <abp-validation-summary [control]="postalCodeModel" [controlEl]="postalCodeEl">
                        </abp-validation-summary>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-md-3 col-form-label">

                    </label>
                    <div class="col-md-9">
                        <input type="text" class="form-control" name="province" id="province" required maxlength="32" reverse="false" [(ngModel)]="user.province" #provinceModel="ngModel" #provinceEl />
                        <abp-validation-summary [control]="provinceModel" [controlEl]="provinceEl">
                        </abp-validation-summary>
                    </div>
                </div>
            </tab>
            <tab [heading]="'UserRoles' | localize" class="pt-3 px-2">
                <div class="form-group row mb-0">
                    <ng-container *ngFor="let role of roles; let i = index">
                        <div class="col-md-6">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" [id]="'role_' + i" [checked]="isRoleChecked(role.normalizedName)" (change)="onRoleChange(role, $event)" />
                                <label class="custom-control-label" [for]="'role_' + i">
                                    {{ role.name }}
                                </label>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </tab>
            <tab [heading]="'UserModes' | localize" class="pt-3 px-2">
                <div class="form-group row mb-0">
                    <ng-container *ngFor="let mode of modes; let i = index">
                        <div class="col-md-6">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" [id]="'mode_' + i" [checked]="isModeChecked(mode.id)" (change)="onChangedCheckbox(mode.id, $event)" />
                                <label class="custom-control-label" [for]="'mode_' + i">
                                    {{ mode.name }}
                                </label>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </tab>
        </tabset>
    </div>
    <abp-modal-footer (onCancelClick)="bsModalRef.hide()"></abp-modal-footer>
    <!-- <abp-modal-footer [cancelDisabled]="saving" [saveDisabled]="!editUserModal.form.valid || saving" (onCancelClick)="bsModalRef.hide()"></abp-modal-footer> -->
</form>